<!-- This customises the default default.html layout from the architect 0.2.0 theme -->

<!DOCTYPE html>
<html lang="{{ site.lang | default: " en-US" }}">

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
        media="screen" type="text/css">
    <link rel="stylesheet" href="{{ '/assets/css/print.css' | relative_url }}" media="print" type="text/css">
    <!-- <link rel="stylesheet" href="{{ '/assets/css/fontawesome-all.min.css' | relative_url }}"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="{{ '/assets/css/syntax.css' | relative_url }}" rel="stylesheet">
    <!-- Changing rouge theme for code snippets syntax highlighting:
    https://bnhr.xyz/2017/03/25/add-syntax-highlighting-to-your-jekyll-site-with-rouge.html -->

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    {% seo %}

    {% include head-custom.html %}
</head>

<body onload="onload()">
    <header>
        <div class="inner">
            <a href="{{ '/' | absolute_url }}">
                <h1>{{ site.title | default: site.github.repository_name }}</h1>
            </a>
            <!-- <h2>{{ site.description | default: site.github.project_tagline }}</h2> -->
            <h2><a href="https://www.youtube.com/watch?v=C7BB5kkK3PA&ab_channel=Crilyte"
                    style="color: #7bd1ff; cursor: pointer;" target="_blank">Hello
                    there!</a> Welcome to my
                blog.</h2>

            <!-- {% if site.github.is_project_page %}
            <a href="{{ site.github.repository_url }}" class="button"><small>View project on</small> GitHub</a>
            {% endif %}
            {% if site.github.is_user_page %}
            <a href="{{ site.github.owner_url }}" class="button"><small>Follow me on</small> GitHub</a>
            {% endif %} -->
        </div>
    </header>

    <div class="button-tray">
        <ul>
            <li>    
                <button onclick="topFunction()" class="fa fa-angle-double-up" id="toTopBtn" title="Go to top"><span
                class="label">Top</span></button>
            </li>
            <li>
                <button onclick="toggleLightMode()" class="fa fa-brands fa-galactic-republic" id="darkModeBtn" title="Toggle light mode"><span class="label">Toggle light mode</span></button>
            </li>
        </ul>
    </div>
            
    <div id="content-wrapper">
        <div class="inner clearfix">

            <section id="main-content">
                {{ content }}
            </section>

            <aside id="sidebar">

                <h2><a href="/about">&raquo; About Me</a></h2>

                <!-- add  icons (github, linkedin, spotify) -->
                <ul class="icons">
                    <li><a href="https://github.com/andreusjh99" class="icon brands fa fa-brands fa-github" target='_blank'><span
                                class="label">Github</span></a></li>
                    <li><a href="https://www.linkedin.com/in/andreusjh99/" class="icon brands fa fa-brands fa-linkedin"
                            target='_blank'><span class="label">Linked-in</span></a></li>
                    <li><a href="https://open.spotify.com/user/21gjwn5bxpvh2rn4asr534pgi?si=e3fc49df7b8540ba"
                            class="icon brands fa fa-brands fa-spotify" target='_blank'><span class="label">Spotify</span></a></li>
                </ul>

                {% if site.show_downloads %}
                <a href="{{ site.github.zip_url }}" class="button">
                    <small>Download</small>
                    .zip file
                </a>
                <a href="{{ site.github.tar_url }}" class="button">
                    <small>Download</small>
                    .tar.gz file
                </a>
                {% endif %}

                <!-- {% if site.github.is_project_page %} -->
                <p class="repo-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a>
                    is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</p>
                <!-- {% endif %} -->

                <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
            </aside>
        </div>
    </div>

</body>

<script>

    const bodyElement = document.body;

    const headers = ["h1", "h2", "h3", "h4", "h5", "h6"];
    const headerElements = [];
    const aElements = document.querySelectorAll("a");

    function onload() {

        for (var i = 0; i < headers.length; i++) {
            const hxElements = document.getElementsByTagName(headers[i]);
            for (var j = 0; j < hxElements.length; j++) {
                headerElements.push(hxElements[j]);
            }
        }

        if (localStorage.getItem("theme") == null) {
            localStorage.setItem("theme", "dark"); // by default, dark theme
            bodyElement.classList.remove("light-mode");
            for (var i = 0; i < headerElements.length; i++) {
                headerElements[i].classList.remove("light-mode");
            }
            for (var i = 0; i < aElements.length; i++) {
                aElements[i].classList.remove("light-mode");
            }
        } else if (localStorage.getItem("theme") == "dark") {
            bodyElement.classList.remove("light-mode");
            for (var i = 0; i < headerElements.length; i++) {
                headerElements[i].classList.remove("light-mode");
            }
            for (var i = 0; i < aElements.length; i++) {
                aElements[i].classList.remove("light-mode");
            }
        } else if (localStorage.getItem("theme") == "light") {
            bodyElement.classList.add("light-mode");
            for (var i = 0; i < headerElements.length; i++) {
                headerElements[i].classList.add("light-mode");
            }
            for (var i = 0; i < aElements.length; i++) {
                aElements[i].classList.add("light-mode");
            }
        }
    }

    function toggleLightMode() {

        let theme = localStorage.getItem("theme");
        // console.log("theme -> " + theme + " <- theme");

        switch(theme) {
            case "dark":
                bodyElement.classList.add("light-mode");
                for (var i = 0; i < headerElements.length; i++) {
                    headerElements[i].classList.add("light-mode");
                }
                for (var i = 0; i < aElements.length; i++) {
                    aElements[i].classList.add("light-mode");
                }
                theme = "light";
                break;
            case "light":
                bodyElement.classList.remove("light-mode");
                for (var i = 0; i < headerElements.length; i++) {
                    headerElements[i].classList.remove("light-mode");
                }
                for (var i = 0; i < aElements.length; i++) {
                    aElements[i].classList.remove("light-mode");
                }
                theme = "dark";
                break;
        }

        // console.log("theme -> " + theme + " <- theme");
        localStorage.setItem("theme", theme);
    }

    // when the user scrolls, call scrollFunction
    window.onscroll = function () { scrollFunction() };

    // When the user scrolls down 20px from top of doc, show the button
    function scrollFunction() {
        // get the button
        const toTopButton = document.getElementById("toTopBtn");

        // document.body.scrollTop for Safari
        // document.documentElement.scrollTop for Chrome, Firefox, IE, Opera
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            toTopButton.style.display = "block";
        } else {
            toTopButton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {

        // while (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
        //     document.body.scrollTop -= 0.1; // for Safari
        //     document.documentElement.scrollTop -= 0.1; // for Chrome, Firefox, IE and Opera
        // }

        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;

    }
</script>

</html>