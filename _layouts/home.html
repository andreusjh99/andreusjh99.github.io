<!-- This customises the default default.html layout from the architect 0.2.0 theme -->

<!DOCTYPE html>
<html lang="{{ site.lang | default: " en-US" }}">

<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}"
        media="screen" type="text/css">
    <!-- <link rel="stylesheet" href="{{ '/assets/css/print.css' | relative_url }}" media="print" type="text/css"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="{{ '/assets/css/syntax.css' | relative_url }}" rel="stylesheet">
    <!-- Changing rouge theme for code snippets syntax highlighting:
    https://bnhr.xyz/2017/03/25/add-syntax-highlighting-to-your-jekyll-site-with-rouge.html -->

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    {% seo %}

    {% include head-custom.html %}
</head>

<body onload="onload()">
    <div class="container">
        <header>
            <div class="inner">
                <a href="{{ '/' | absolute_url }}">
                    <h1>{{ site.title | default: site.github.repository_name }}</h1>
                </a>

                <h2><a href="https://www.youtube.com/watch?v=C7BB5kkK3PA&ab_channel=Crilyte"
                        style="color: #7bd1ff; cursor: pointer;" target="_blank">Hello
                        there!</a> Welcome to my blog.</h2>
            </div>
        </header>
    </div>

    <div class="button-tray">
        <ul>
            <li>    
                <button onclick="topFunction()" class="fa fa-angle-double-up" id="toTopBtn" title="Go to top"><span
                class="label">Top</span></button>
            </li>
            <li>
                <button onclick="toggleLightMode()" class="fa fa-brands" id="darkModeBtn" title="Toggle light mode"><span class="label">Toggle light mode</span></button>
            </li>
        </ul>
    </div>
            
    <main class="container">
        <!-- <div class="inner clearfix"> -->
            <div class="row">
                <div class="col-md-8" id="main-content">
                    {{ content }}
                </div>

                <div class="col-md-4">
                    <div class="sticky-top ps-4 lh-base" id="sidebar">
                        <div class="avatar">
                            <img src="/assets/images/avatar/obiwan.jpeg" alt="avatar">
                        </div>
        
                        <p class="fw-bold mt-3">Chia Jing Heng</p>
                        <p class="fw-bold"><a class="fw-bold" href="/about">&raquo; About Me</a></p>
        
                        <!-- add  icons (github, linkedin, spotify) -->
                        <ul class="icons">
                            <li><a href="https://github.com/andreusjh99" class="icon fa fa-brands fa-github" target='_blank'><span
                                        class="label">Github</span></a></li>
                            <li><a href="https://www.linkedin.com/in/andreusjh99/" class="icon fa fa-brands fa-linkedin"
                                    target='_blank'><span class="label">Linked-in</span></a></li>
                            <li><a href="https://open.spotify.com/user/21gjwn5bxpvh2rn4asr534pgi?si=e3fc49df7b8540ba"
                                    class="icon fa fa-brands fa-spotify" target='_blank'><span class="label">Spotify</span></a></li>
                            <li><a href="mailto: andreusjh@gmail.com"
                                class="icon fa-solid fa-envelope" target='_blank'><span class="label">Mail</span></a></li>
                        </ul>
        
                        <div class="repo-owner lh-sm">
                            <p class="fw-bold"><a class="fw-bold" href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a>
                                is maintained by <a class="fw-bold" href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</p>
            
                            <p>This page was generated by <a class="fw-bold" href="https://pages.github.com">GitHub Pages</a>.</p>
                        </div>
                    </div>
                </div>
            </div>
        <!-- </div> -->
    </main>

</body>

<script>

    const bodyElement = document.body;

    const modeBtn = document.getElementById("darkModeBtn");

    function onload() {

        if (localStorage.getItem("theme") == null) {
            localStorage.setItem("theme", "dark"); // by default, dark theme
        } 
        
        if (localStorage.getItem("theme") == "dark") {
            bodyElement.classList.remove("light-mode");
            // toggleModeButton("dark");
        } else if (localStorage.getItem("theme") == "light") {
            bodyElement.classList.add("light-mode");
            // toggleModeButton("light");
        }

        toggleModeButton(localStorage.getItem("theme"));
    }

    function toggleLightMode() {

        let theme = localStorage.getItem("theme");

        // to have transition-duration during toggling modes
        bodyElement.classList.add("change");

        setTimeout(() => {
            switch(theme) {
            case "dark":
                bodyElement.classList.add("light-mode");
                theme = "light";
                break;
            case "light":
                bodyElement.classList.remove("light-mode");
                theme = "dark";
                break;
            }
            toggleModeButton(theme);
        }, 100); // set timeout to ensure classlist "change" added
        

        setTimeout(() => {
            bodyElement.classList.remove("change"); // to remove transition-duration during normal page loading
            localStorage.setItem("theme", theme);
        }, 500);
    }

    // when the user scrolls, call scrollFunction
    window.onscroll = function () { scrollFunction() };

    // When the user scrolls down 20px from top of doc, show the button
    function scrollFunction() {
        // get the button
        const toTopButton = document.getElementById("toTopBtn");

        // document.body.scrollTop for Safari
        // document.documentElement.scrollTop for Chrome, Firefox, IE, Opera
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            toTopButton.style.display = "block";
        } else {
            toTopButton.style.display = "none";
        }
    }

    // When the user clicks on the button, scroll to the top of the document
    function topFunction() {

        // while (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
        //     document.body.scrollTop -= 0.1; // for Safari
        //     document.documentElement.scrollTop -= 0.1; // for Chrome, Firefox, IE and Opera
        // }

        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;

    }

    function toggleModeButton(newMode) {
        if (newMode === "dark") {
            modeBtn.classList.remove("fa-jedi-order");
            modeBtn.classList.add("fa-galactic-republic");

            modeBtn.title = "Switch to light mode";

        } else if (newMode === "light") {
            modeBtn.classList.add("fa-jedi-order");
            modeBtn.classList.remove("fa-galactic-republic");

            modeBtn.title = "Switch to dark mode";
        }
    }

</script>

</html>